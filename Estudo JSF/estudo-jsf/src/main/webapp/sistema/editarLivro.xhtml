<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

	<h:panelGrid id="panelGrid-campos-form" columns="2" cellpadding="10">
	
		<p:outputLabel value="Código" for="inputText-codigo"/>
		<p:inputText id="inputText-codigo"
					 value="#{livroController.livroModel.codigo}"
					 style="width:50px"
					 readonly="true"/>
		
    	<h:outputLabel value="Autor" for="dropDown-autor"/>
    	<p:autoComplete id="dropDown-autor" dropdown="true" 
    	value="#{livroController.livroModel.autorModel}" var="autor" itemValue="#{autor}" itemLabel="#{autor.nome}" completeMethod="#{livroController.completeTextAutor}"
    	 converter="classeConverter" required="true" requiredMessage="O autor é de preenchimento obrigatório!" maxResults="5">
    	 <p:ajax event="itemSelect" listener="#{livroController.selectAutor}" />
    	 </p:autoComplete>
    	 
    	<h:outputLabel value="Editora" for="dropDown-editora"/>
    	<p:autoComplete id="dropDown-editora" dropdown="true" value="#{livroController.livroModel.editoraModel}" var="editora" itemValue="#{editora}"
    	itemLabel="#{editora.nome}" completeMethod="#{livroController.completeTextEditora}" converter="classeConverter" required="true"
    	requiredMessage="A editora é de preenchimento obrigatório!" maxResults="5">
    		<p:ajax event="itemSelect" listener="#{livroController.selectEditora}" />
    	</p:autoComplete>						 
    	
    	<h:outputLabel value="Gênero" for="dropDown-genero"/>
    	<p:autoComplete id="dropDown-genero" dropdown="true" value="#{livroController.livroModel.generoModel}" var="genero" itemValue="#{genero}" 
    	itemLabel="#{genero.nome}" completeMethod="#{livroController.completeTextGenero}" converter="classeConverter" required="true"
    	requiredMessage="O gênero é de preenchimento obrigatório!" maxResults="5">
    		<p:ajax event="itemSelect" listener="#{livroController.selectGenero}" />
    	</p:autoComplete>
					 
		<p:outputLabel value="Título: " for="inputText-titulo"/>
		<p:inputText id="inputText-titulo"
					 style="width:300px"
					 maxlength="70"
					 value="#{livroController.livroModel.titulo}"
					 required="true"
					 requiredMessage="O nome é de preenchimento obrigatório"/>
					 
		<p:outputLabel value="ISBN" for="inputText-isbn"/>
		<p:inputText id="inputText-isbn"
					 style="width:200px"
					 maxlength="30"
					 value="#{livroController.livroModel.isbn}"
					 required="false"/>
					 
		<p:outputLabel value="Número de Páginas" for="inputText-numPag"/>
				<p:inputText id="inputText-numPag"
							 style="width:150px"
							 maxlength="4"
							 value="#{livroController.livroModel.numeroPaginas}"
							 required="true"
							 requiredMessage="O número de páginas é de preenchimento obrigatório!"
							 />
				
		<p:outputLabel value="Descrição" for="textArea-descricao"/>
		<p:inputTextarea id="textArea-descricao" 
							 rows="5" cols="50" 
							 maxlength="200" 
							 autoResize="false"
							 value="#{livroController.livroModel.descricao}"
							 required="true"
							 requiredMessage="A descrição é de preenchimento obrigatório!"/>
			
		<p:commandButton value="Alterar"
    					 id="commandButton-alterar"
    					 icon="ui-icon-gear"
    					 actionListener="#{livroController.alterarRegistro}" 
    					 oncomplete="PF('dialog-modal-editar').hide();"
    					 update="form-consulta"/>
    							 
				    			
	</h:panelGrid> 
			
	<p:messages showDetail="true" autoUpdate="true" closable="true" severity="warn"/>
	<p:messages autoUpdate="true" closable="true" severity="error"/>
	<p:messages showDetail="true" autoUpdate="true" closable="true" severity="info"/>
	
</ui:composition>
